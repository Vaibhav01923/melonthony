{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vaibhav/Documents/Code/Melonthony/melonthony/src/hooks/useDebounce.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS,YAAe,KAAQ,EAAE,KAAa;;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qMAAQ,EAAC;IAErD,IAAA,sMAAS;iCAAC;YACR,MAAM,UAAU;iDAAW;oBACzB,kBAAkB;gBACpB;gDAAG;YAEH;yCAAO;oBACL,aAAa;gBACf;;QACF;gCAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT;GAdgB","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/vaibhav/Documents/Code/Melonthony/melonthony/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useTRPC } from \"@/trpc/client\";\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { useDebounce } from \"@/hooks/useDebounce\";\n\nfunction HomePage() {\n  const trpc = useTRPC();\n  const [search, setSearch] = useState(\"\");\n  const debouncedSearch = useDebounce(search, 500); // 500ms delay\n\n  const { data, isLoading, fetchNextPage, hasNextPage, refetch } =\n    useInfiniteQuery(\n      trpc.fetchAlbums.infiniteQueryOptions(\n        { limit: 50, search: debouncedSearch || undefined },\n        {\n          getNextPageParam: (lastPage) => lastPage.nextCursor ?? undefined,\n          staleTime: 30 * 60 * 1000, // 30 minutes\n        }\n      )\n    );\n\n  // Flatten all pages into one array\n  const albums = data?.pages.flatMap((page) => page.items) ?? [];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Albums</h1>\n        <div className=\"mb-6\">\n          <input\n            type=\"text\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            placeholder=\"Search by artist, album, or genre...\"\n            className=\"w-full max-w-md px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Array.from({ length: 6 }).map((_, index) => (\n              <div\n                key={index}\n                className=\"bg-white border border-gray-200 rounded-lg p-4 shadow-sm animate-pulse\"\n              >\n                <div className=\"w-full h-48 bg-gray-300 rounded mb-4\"></div>\n                <div className=\"h-4 bg-gray-300 rounded mb-2\"></div>\n                <div className=\"h-3 bg-gray-300 rounded mb-1\"></div>\n                <div className=\"h-3 bg-gray-300 rounded mb-2\"></div>\n                <div className=\"h-3 bg-gray-300 rounded mb-1\"></div>\n                <div className=\"flex gap-1\">\n                  <div className=\"h-3 bg-gray-300 rounded-full w-12\"></div>\n                  <div className=\"h-3 bg-gray-300 rounded-full w-16\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {albums.map((album) => (\n              <div\n                key={album.id}\n                className=\"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow\"\n              >\n                <Image\n                  src={album.cover_url}\n                  alt={album.album_clean}\n                  width={200}\n                  height={200}\n                  className=\"w-full h-48 object-cover rounded mb-4\"\n                />\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-1\">\n                  {album.album_clean}\n                </h2>\n                <p className=\"text-gray-600 mb-1\">{album.artist_clean}</p>\n                <p className=\"text-sm text-gray-500 mb-2\">{album.year}</p>\n                <p className=\"text-sm font-medium text-blue-600 mb-2\">\n                  Score: {String(album.score)}\n                </p>\n                <div className=\"mt-2\">\n                  <p className=\"text-xs text-gray-500 mb-1\">Genres:</p>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {album.genres.map((genre, index) => (\n                      <span\n                        key={index}\n                        className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\"\n                      >\n                        {genre}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {hasNextPage && (\n          <div className=\"flex justify-center mt-8\">\n            <button\n              onClick={() => fetchNextPage()}\n              className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\n            >\n              Load More Albums\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default HomePage;\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;;;AALA;;;;;;AAOA,SAAS;;IACP,MAAM,OAAO,IAAA,gKAAO;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,qMAAQ,EAAC;IACrC,MAAM,kBAAkB,IAAA,yKAAW,EAAC,QAAQ,MAAM,cAAc;IAEhE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,aAAa,EAAE,WAAW,EAAE,OAAO,EAAE,GAC5D,IAAA,sOAAgB,EACd,KAAK,WAAW,CAAC,oBAAoB,CACnC;QAAE,OAAO;QAAI,QAAQ,mBAAmB;IAAU,GAClD;QACE,gBAAgB;yCAAE,CAAC;oBAAa;uBAAA,CAAA,uBAAA,SAAS,UAAU,cAAnB,kCAAA,uBAAuB;;;QACvD,WAAW,KAAK,KAAK;IACvB;QAKS;IADf,mCAAmC;IACnC,MAAM,SAAS,CAAA,sBAAA,iBAAA,2BAAA,KAAM,KAAK,CAAC,OAAO,CAAC,CAAC,OAAS,KAAK,KAAK,eAAxC,iCAAA,sBAA6C,EAAE;IAE9D,qBACE,yNAAC;QAAI,WAAU;kBACb,cAAA,yNAAC;YAAI,WAAU;;8BACb,yNAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,yNAAC;oBAAI,WAAU;8BACb,cAAA,yNAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,aAAY;wBACZ,WAAU;;;;;;;;;;;gBAGb,0BACC,yNAAC;oBAAI,WAAU;8BACZ,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,sBACjC,yNAAC;4BAEC,WAAU;;8CAEV,yNAAC;oCAAI,WAAU;;;;;;8CACf,yNAAC;oCAAI,WAAU;;;;;;8CACf,yNAAC;oCAAI,WAAU;;;;;;8CACf,yNAAC;oCAAI,WAAU;;;;;;8CACf,yNAAC;oCAAI,WAAU;;;;;;8CACf,yNAAC;oCAAI,WAAU;;sDACb,yNAAC;4CAAI,WAAU;;;;;;sDACf,yNAAC;4CAAI,WAAU;;;;;;;;;;;;;2BAVZ;;;;;;;;;yCAgBX,yNAAC;oBAAI,WAAU;8BACZ,OAAO,GAAG,CAAC,CAAC,sBACX,yNAAC;4BAEC,WAAU;;8CAEV,yNAAC,uKAAK;oCACJ,KAAK,MAAM,SAAS;oCACpB,KAAK,MAAM,WAAW;oCACtB,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;8CAEZ,yNAAC;oCAAG,WAAU;8CACX,MAAM,WAAW;;;;;;8CAEpB,yNAAC;oCAAE,WAAU;8CAAsB,MAAM,YAAY;;;;;;8CACrD,yNAAC;oCAAE,WAAU;8CAA8B,MAAM,IAAI;;;;;;8CACrD,yNAAC;oCAAE,WAAU;;wCAAyC;wCAC5C,OAAO,MAAM,KAAK;;;;;;;8CAE5B,yNAAC;oCAAI,WAAU;;sDACb,yNAAC;4CAAE,WAAU;sDAA6B;;;;;;sDAC1C,yNAAC;4CAAI,WAAU;sDACZ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,sBACxB,yNAAC;oDAEC,WAAU;8DAET;mDAHI;;;;;;;;;;;;;;;;;2BAvBR,MAAM,EAAE;;;;;;;;;;gBAoCpB,6BACC,yNAAC;oBAAI,WAAU;8BACb,cAAA,yNAAC;wBACC,SAAS,IAAM;wBACf,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAQb;GAxGS;;QACM,gKAAO;QAEI,yKAAW;QAGjC,sOAAgB;;;KANX;uCA0GM","debugId":null}}]
}